cloned code from trac-hacks

http://trac-hacks.org/wiki/DepgraphSidebarPlugin
